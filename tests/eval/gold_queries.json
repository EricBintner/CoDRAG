{
  "version": "1.0",
  "description": "Gold queries for evaluating CoDRAG search quality",
  "queries": [
    {
      "id": "gq-001",
      "query": "how does the atomic build mechanism work",
      "expected_files": ["src/codrag/core/index.py"],
      "expected_keywords": ["_swap_index_dir", "atomic", "build"],
      "category": "architecture",
      "difficulty": "medium"
    },
    {
      "id": "gq-002",
      "query": "what error codes does the API return",
      "expected_files": ["src/codrag/server.py"],
      "expected_keywords": ["ApiException", "code"],
      "category": "api",
      "difficulty": "easy"
    },
    {
      "id": "gq-003",
      "query": "how are primer files detected and boosted",
      "expected_files": ["src/codrag/core/index.py", "src/codrag/core/repo_policy.py"],
      "expected_keywords": ["primer", "boost", "AGENTS.md"],
      "category": "features",
      "difficulty": "medium"
    },
    {
      "id": "gq-004",
      "query": "how does the file watcher detect changes",
      "expected_files": ["src/codrag/core/watcher.py"],
      "expected_keywords": ["watchdog", "FileSystemEventHandler", "on_modified"],
      "category": "features",
      "difficulty": "medium"
    },
    {
      "id": "gq-005",
      "query": "how are embeddings generated from code",
      "expected_files": ["src/codrag/core/embedder.py"],
      "expected_keywords": ["embed", "OllamaEmbedder", "encode"],
      "category": "core",
      "difficulty": "easy"
    },
    {
      "id": "gq-006",
      "query": "how does trace index build the code graph",
      "expected_files": ["src/codrag/core/trace.py"],
      "expected_keywords": ["TraceIndex", "build", "nodes", "edges"],
      "category": "features",
      "difficulty": "hard"
    },
    {
      "id": "gq-007",
      "query": "what MCP tools are exposed to AI assistants",
      "expected_files": ["src/codrag/mcp_server.py", "src/codrag/mcp_tools.py"],
      "expected_keywords": ["tool", "search", "context"],
      "category": "mcp",
      "difficulty": "easy"
    },
    {
      "id": "gq-008",
      "query": "how is the project registry persisted",
      "expected_files": ["src/codrag/core/project_registry.py"],
      "expected_keywords": ["sqlite", "projects", "INSERT"],
      "category": "core",
      "difficulty": "medium"
    },
    {
      "id": "gq-009",
      "query": "how does context assembly work with char limits",
      "expected_files": ["src/codrag/core/index.py"],
      "expected_keywords": ["assemble_context", "max_chars", "budget"],
      "category": "core",
      "difficulty": "medium"
    },
    {
      "id": "gq-010",
      "query": "how are search results scored and ranked",
      "expected_files": ["src/codrag/core/index.py"],
      "expected_keywords": ["search", "score", "similarity", "boost"],
      "category": "core",
      "difficulty": "hard"
    }
  ]
}
