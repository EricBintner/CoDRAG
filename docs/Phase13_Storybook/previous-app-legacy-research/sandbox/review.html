<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Halley Visual Design Review (A–P)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'system-ui', '-apple-system', 'Segoe UI', 'Roboto', 'Arial', 'sans-serif'],
          },
          colors: {
            bg: '#0b0f16',
            card: '#111826',
            'card-2': '#0f1522',
            border: 'rgba(255,255,255,0.10)',
            border2: 'rgba(255,255,255,0.16)',
            text: '#eaf0ff',
            muted: 'rgba(234,240,255,0.72)',
            accent: '#7aa7ff',
          }
        }
      }
    }
  </script>
  <style>
    body { background: radial-gradient(circle at 20% 10%, rgba(122,167,255,0.12), transparent 40%), #0b0f16; color: #eaf0ff; }
    .card-surface { background: rgba(17,24,38,0.72); backdrop-filter: blur(10px); }
  </style>
</head>
<body class="min-h-screen font-sans">
  <div class="max-w-7xl mx-auto px-6 py-10">
    <header class="mb-8">
      <div class="flex items-start justify-between gap-6 flex-wrap">
        <div>
          <div class="inline-flex items-center gap-2 text-xs tracking-wider uppercase text-muted mb-3">
            <span class="px-2 py-1 rounded-full border border-border2 bg-white/5">Phase 57</span>
            <span>Single-page review</span>
          </div>
          <h1 class="text-3xl md:text-4xl font-semibold tracking-tight">Halley Visual Design Review (A–P)</h1>
          <p class="text-muted mt-3 max-w-2xl">
            Clean, sophisticated overview of all sandbox directions. Each card includes a Halley-scoped recommendation
            and optional inline preview (lazy-loaded).
          </p>
        </div>
        <div class="flex gap-3">
          <a href="index.html" class="inline-flex items-center justify-center px-4 py-2 rounded-xl border border-border2 bg-white/5 hover:bg-white/10 transition text-sm">
            Back to Sandbox Index
          </a>
          <a href="review2.html" class="inline-flex items-center justify-center px-4 py-2 rounded-xl border border-border2 bg-white/5 hover:bg-white/10 transition text-sm">
            Review 2 (Q–R)
          </a>
          <a href="../SCHOOL_AND_ENTERPRISE_INSPIRATIONS.md" class="inline-flex items-center justify-center px-4 py-2 rounded-xl border border-border2 bg-white/5 hover:bg-white/10 transition text-sm">
            Sources + Principles
          </a>
        </div>
      </div>
    </header>

    <section class="card-surface rounded-2xl border border-border p-5 mb-8">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <div>
          <label class="block text-xs text-muted tracking-wider uppercase mb-2" for="search">Search</label>
          <input id="search" class="w-full px-4 py-3 rounded-xl bg-card-2 border border-border2 text-text placeholder:text-muted/70 focus:outline-none focus:ring-2 focus:ring-accent/40" placeholder="e.g. bento, editorial, enterprise, accessibility" />
        </div>
        <div>
          <label class="block text-xs text-muted tracking-wider uppercase mb-2" for="filter">Filter</label>
          <select id="filter" class="w-full px-4 py-3 rounded-xl bg-card-2 border border-border2 text-text focus:outline-none focus:ring-2 focus:ring-accent/40">
            <option value="all">All</option>
            <option value="color">Color/Font Variations (A–D)</option>
            <option value="radical">Radical Paradigms (E–H)</option>
            <option value="school_enterprise">School + Enterprise Inspired (I–L)</option>
            <option value="design_system">Design System Concepts (M–P)</option>
          </select>
        </div>
        <div class="flex items-end">
          <label class="inline-flex items-center gap-3 px-4 py-3 rounded-xl border border-border2 bg-white/5 hover:bg-white/10 transition cursor-pointer select-none w-full">
            <input id="autopreview" type="checkbox" class="accent-accent" />
            <span class="text-sm">Auto-open previews as you scroll (heavier)</span>
          </label>
        </div>
      </div>
      <div class="text-xs text-muted mt-3">
        Tip: For fastest review, open each variation in a new tab. Inline previews load only when expanded.
      </div>
    </section>

    <section id="grid" class="grid grid-cols-1 lg:grid-cols-2 gap-5"></section>

    <footer class="mt-10 text-sm text-muted">
      Recommendation workflow:
      <span class="text-text">Pick 1 north-star</span>
      → adopt token semantics + motion posture
      → define governance to prevent drift
      → apply per-surface (chat/personas/worlds/settings).
    </footer>
  </div>

  <template id="cardTemplate">
    <article class="card-surface rounded-2xl border border-border p-6">
      <div class="flex items-start justify-between gap-4">
        <div>
          <div class="flex items-center gap-3">
            <span class="var-badge px-2 py-1 text-xs font-semibold rounded-lg border border-border2 bg-white/5"></span>
            <h2 class="var-title text-xl font-semibold tracking-tight"></h2>
          </div>
          <p class="var-tagline text-sm text-muted mt-2"></p>
          <div class="mt-3 flex flex-wrap gap-2 var-chips"></div>
        </div>
        <div class="flex gap-2 flex-shrink-0">
          <a class="var-open inline-flex items-center justify-center px-4 py-2 rounded-xl border border-border2 bg-white/5 hover:bg-white/10 transition text-sm" target="_blank" rel="noreferrer">Open</a>
        </div>
      </div>

      <div class="mt-5 grid gap-4">
        <div>
          <div class="text-xs text-muted tracking-wider uppercase">Best fit in Halley</div>
          <div class="var-fit text-sm mt-1"></div>
        </div>
        <div>
          <div class="text-xs text-muted tracking-wider uppercase">System moves to borrow</div>
          <div class="var-moves text-sm mt-1"></div>
        </div>
        <div>
          <div class="text-xs text-muted tracking-wider uppercase">Watch-outs</div>
          <div class="var-risks text-sm mt-1"></div>
        </div>
      </div>

      <details class="mt-5 var-details rounded-xl border border-border2 bg-black/10">
        <summary class="cursor-pointer px-4 py-3 text-sm select-none">Preview</summary>
        <div class="p-4 pt-0">
          <div class="rounded-xl overflow-hidden border border-border bg-black">
            <iframe class="var-iframe w-full" style="height: 460px;" loading="lazy" referrerpolicy="no-referrer"></iframe>
          </div>
        </div>
      </details>
    </article>
  </template>

  <script>
    const variations = [
      {
        id: 'A',
        title: 'Refined Dark',
        category: 'color',
        path: 'variation-a-refined-dark/index.html',
        tagline: 'Polished evolution of the current dark UI; minimal migration risk.',
        chips: ['Clean', 'Dark', 'Low risk'],
        fit: 'Default baseline for the app; good for broad surfaces (chat, personas, settings).',
        moves: 'Tight tokens, subtle depth, consistent components.',
        risks: 'May not feel meaningfully “new” if you want a brand leap.'
      },
      {
        id: 'B',
        title: 'Soft Neutral',
        category: 'color',
        path: 'variation-b-soft-neutral/index.html',
        tagline: 'Warm, approachable light theme; consumer-friendly.',
        chips: ['Light mode', 'Friendly', 'Rounded'],
        fit: 'Optional mode for onboarding and casual usage; broad surfaces.',
        moves: 'Tone control, whitespace, gentle radii.',
        risks: 'Light-mode polish demands excellent typography + contrast discipline.'
      },
      {
        id: 'C',
        title: 'Glassmorphism',
        category: 'color',
        path: 'variation-c-glass/index.html',
        tagline: 'Ambient blur + depth for a modern immersive feel.',
        chips: ['Glass', 'Depth', 'Immersive'],
        fit: 'Hero surfaces (world selection, mood, identity) more than dense settings.',
        moves: 'Layering, gradient ambience, elevation cues.',
        risks: 'Performance + legibility on blur; easy to become noisy.'
      },
      {
        id: 'D',
        title: 'Bold Accent',
        category: 'color',
        path: 'variation-d-bold/index.html',
        tagline: 'High-contrast energetic brand posture.',
        chips: ['High contrast', 'Vibrant', 'Brand-forward'],
        fit: 'Marketing-facing flows, playful personas, creative worlds.',
        moves: 'Strong hierarchy, memorable accent strategy.',
        risks: 'Can fatigue users if applied everywhere; needs restraint rules.'
      },

      {
        id: 'E',
        title: 'Neubrutalism',
        category: 'radical',
        path: 'variation-e-neubrutalism/index.html',
        tagline: 'Raw, bold, anti-polish. Thick borders and hard shadows.',
        chips: ['Playful', 'Trending', 'Loud'],
        fit: 'Creative tools, experimental world-building, limited-surface brand moments.',
        moves: 'Hard constraints, obvious affordances, punchy hierarchy.',
        risks: 'Hard to sustain across a full product without fatigue.'
      },
      {
        id: 'F',
        title: 'Editorial',
        category: 'radical',
        path: 'variation-f-editorial/index.html',
        tagline: 'Typography-first magazine aesthetic; content is king.',
        chips: ['Sophisticated', 'Readable', 'Serif'],
        fit: 'Chat reading, persona bios, long-form memory review.',
        moves: 'Type scale, rhythm, minimal chrome, reading-first layout.',
        risks: 'Needs careful component design so it still feels like an app.'
      },
      {
        id: 'G',
        title: 'Terminal / Hacker',
        category: 'radical',
        path: 'variation-g-terminal/index.html',
        tagline: 'CLI vibe with monospace posture and retro computing cues.',
        chips: ['Niche', 'Monospace', 'Technical'],
        fit: 'Debug/admin or “power user mode” surfaces.',
        moves: 'Dense information layout, explicit status, keyboard-first affordances.',
        risks: 'Niche brand posture; may clash with broader audience.'
      },
      {
        id: 'H',
        title: 'Bento Grid',
        category: 'radical',
        path: 'variation-h-bento/index.html',
        tagline: 'Asymmetric modular dashboard with varied cell sizes + glows.',
        chips: ['Modern', 'Premium', 'Dashboard'],
        fit: 'Overview/home surfaces, world selection, status dashboards.',
        moves: 'Modular grid composition, density control, glanceable info.',
        risks: 'Needs strong rules to avoid “tile soup” and preserve hierarchy.'
      },

      {
        id: 'I',
        title: 'Studio Collage',
        category: 'school_enterprise',
        path: 'variation-i-studio-collage/index.html',
        tagline: 'Deconstructed studio critique aesthetic; authored composition.',
        chips: ['Expressive', 'Experimental', 'Zine-like'],
        fit: 'World-building tools, onboarding narratives, creative flows (selective use).',
        moves: 'Controlled asymmetry, artifact UI, authorial hierarchy.',
        risks: 'Must be backed by accessibility + token discipline underneath.'
      },
      {
        id: 'J',
        title: 'Yale Grid',
        category: 'school_enterprise',
        path: 'variation-j-yale-grid/index.html',
        tagline: 'Typography discipline + grid-first restraint.',
        chips: ['Clean', 'Sophisticated', 'Quiet'],
        fit: 'Chat reading, persona editing, anywhere you want calm clarity.',
        moves: 'Baseline rhythm, semantic hierarchy, single-accent restraint.',
        risks: 'Can feel too restrained if brand moments are not designed.'
      },
      {
        id: 'K',
        title: 'Inclusive Focus',
        category: 'school_enterprise',
        path: 'variation-k-inclusive-focus/index.html',
        tagline: 'Accessibility posture + progressive disclosure + strong focus states.',
        chips: ['Accessible', 'Calm', 'User-first'],
        fit: 'Settings, onboarding, high-stakes editors, anywhere focus matters.',
        moves: '44px targets, reduced motion, high-contrast option, purposeful UI.',
        risks: 'Needs consistent app-wide implementation to be meaningful.'
      },
      {
        id: 'L',
        title: 'Enterprise Console',
        category: 'school_enterprise',
        path: 'variation-l-enterprise-console/index.html',
        tagline: 'Console layout with token-ish variables; governance-minded UI.',
        chips: ['Systems', 'Scalable', 'Power-user'],
        fit: 'Memory management, audit/debug surfaces, admin settings.',
        moves: 'Token semantics, semantic states, minimal variant sprawl.',
        risks: 'May feel too enterprise unless balanced with Halley’s personality.'
      },

      {
        id: 'M',
        title: 'Token Lab',
        category: 'design_system',
        path: 'variation-m-token-lab/index.html',
        tagline: 'Semantic tokens + density + themes as first-class system infrastructure.',
        chips: ['Tokens', 'Density', 'Themes'],
        fit: 'Under-the-hood system layer for any chosen north-star; great for ensuring coherence across chat/personas/worlds.',
        moves: 'Semantic token naming, density modes, consistent action intent (primary/secondary/destructive).',
        risks: 'Not a “look” by itself; value appears only when enforced app-wide.'
      },
      {
        id: 'N',
        title: 'Command Surface',
        category: 'design_system',
        path: 'variation-n-command-surface/index.html',
        tagline: 'Command palette + consistent verbs + keyboard-first navigation pattern.',
        chips: ['Keyboard-first', 'Consistency', 'Discoverability'],
        fit: 'Power-user navigation and cross-surface actions; pairs well with enterprise console and dense tools.',
        moves: 'Unified action vocabulary, shortcut discoverability, permission-aware command list.',
        risks: 'Must remain an accelerator (not a required UI) or it becomes exclusionary.'
      },
      {
        id: 'O',
        title: 'Density Analytics',
        category: 'design_system',
        path: 'variation-o-density-analytics/index.html',
        tagline: 'Dense tables + filters + details pane for audit/admin-grade surfaces.',
        chips: ['Tables', 'Audit', 'Compact mode'],
        fit: 'Memory audit, governance tooling, debugging/admin; surfaces where scan speed matters.',
        moves: 'Sticky headers, density toggle, row selection details pane, filter chips.',
        risks: 'Can feel “enterprise” unless reserved for the right surfaces and copy stays human.'
      },
      {
        id: 'P',
        title: 'Guided Stepper',
        category: 'design_system',
        path: 'variation-p-guided-stepper/index.html',
        tagline: 'Progressive disclosure onboarding/config with live preview and intentional friction.',
        chips: ['Onboarding', 'Progressive disclosure', 'Copy-first'],
        fit: 'Persona creation, world setup, safety/memory policy configuration.',
        moves: 'Reusable stepper component, review step, clear system copy, explicit confirmation for high-stakes changes.',
        risks: 'If overused, steppers slow experts; must allow skipping for experienced users.'
      }
    ]

    const grid = document.getElementById('grid')
    const search = document.getElementById('search')
    const filter = document.getElementById('filter')
    const autopreview = document.getElementById('autopreview')
    const template = document.getElementById('cardTemplate')

    const setIframeSrcIfNeeded = (iframe) => {
      if (!iframe) return
      const desired = iframe.getAttribute('data-src')
      if (desired && !iframe.getAttribute('src')) iframe.setAttribute('src', desired)
    }

    const render = () => {
      const q = (search.value || '').trim().toLowerCase()
      const f = filter.value

      grid.innerHTML = ''

      const visible = variations.filter(v => {
        if (f !== 'all' && v.category !== f) return false
        if (!q) return true
        const hay = [v.id, v.title, v.tagline, v.fit, v.moves, v.risks, ...(v.chips || [])].join(' ').toLowerCase()
        return hay.includes(q)
      })

      for (const v of visible) {
        const node = template.content.cloneNode(true)
        const article = node.querySelector('article')

        node.querySelector('.var-badge').textContent = v.id
        node.querySelector('.var-title').textContent = v.title
        node.querySelector('.var-tagline').textContent = v.tagline

        const chips = node.querySelector('.var-chips')
        for (const c of v.chips || []) {
          const span = document.createElement('span')
          span.className = 'text-xs px-2 py-1 rounded-lg border border-border2 bg-white/5 text-muted'
          span.textContent = c
          chips.appendChild(span)
        }

        node.querySelector('.var-fit').textContent = v.fit
        node.querySelector('.var-moves').textContent = v.moves
        node.querySelector('.var-risks').textContent = v.risks

        const open = node.querySelector('.var-open')
        open.setAttribute('href', v.path)

        const details = node.querySelector('.var-details')
        const iframe = node.querySelector('.var-iframe')
        iframe.setAttribute('data-src', v.path)

        details.addEventListener('toggle', () => {
          if (details.open) setIframeSrcIfNeeded(iframe)
        })

        if (autopreview.checked) {
          // default-open previews for visible cards; still lazy-load src
          details.open = true
          setIframeSrcIfNeeded(iframe)
        }

        grid.appendChild(node)

        // If autopreview is enabled, progressively load as user scrolls.
        if (!autopreview.checked) {
          const io = new IntersectionObserver((entries) => {
            for (const e of entries) {
              if (!e.isIntersecting) continue
              if (autopreview.checked) {
                const d = article.querySelector('details')
                const f = article.querySelector('iframe')
                if (d && !d.open) d.open = true
                setIframeSrcIfNeeded(f)
              }
              io.disconnect()
            }
          }, { rootMargin: '400px' })
          io.observe(article)
        }
      }
    }

    search.addEventListener('input', render)
    filter.addEventListener('change', render)
    autopreview.addEventListener('change', render)

    render()
  </script>
</body>
</html>
